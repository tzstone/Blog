# 正则表达式拾遗

## 基础

- 多选结构可以包括很多字符, 但不能超越括号的界限(如`gr(a|e)y`).
- 括号的作用
  - 限制多选项的范围
  - 将若干字符组合为一个单元, 受`?` `*`等量词的作用
  - 反向引用. `\1` `\2`表示第一, 第二组括号匹配的文本, 括号是按照开括号`(`从左到右的出现顺序进行的.

## 元字符

- `^`匹配一行的开始, `$`匹配一行的结尾.
- `?`代表可选项. 把它加在一个字符的后面, 就表示此处容许出现这个字符, 不过它的出现并非匹配成功的必要条件. `?`只作用于之前紧邻的元素.
- `+` 表示之前紧邻的元素出现一次或多次.
- `*` 表示之前紧邻的元素出现任意多次, 或者不出现.
  - `? + *` 统称为量词, 它们限定了所作用元素的匹配次数.
  - 一个字符组是一个"元素"(unit), 所以它后面可以加量词, 如`[0-9]+`
  - // TODO: 两个量词在一起的匹配过程是怎样的, 如`11+?`

## 字符组

- 一个字符组, 即使是排除型字符组, 也需要匹配一个字符.
- `[...]` 字符组指定一个字符列表, 其中的任何一个字符可出现在输入字符串中以便进行匹配.
- `[^...]` 排除型字符组表示”匹配一个未列出的字符”, 而不是”不要匹配列出的字符”. 脱字符`^`仅作为字符组内部第一个字符时才是元字符, 在其他位置则表示普通字符.
- `-`连字符是字符组的元字符, 表示一个范围, 如`[0-9]`表示匹配数字0到9. 连字符作为字符组的第一个字符时表示普通字符'-', 如`[-0]`表示匹配字符'-'和数字0. 使用连字符表示范围时, 一般是根据字符所对应的ASCII码值大小所定, 码值小的在前, 码值大的在后, 否则是非法的, 如`[z-a]`是非法的.
- 字符组中`-`连字符是元字符, 其他元字符`.(?`等则表示普通字符, 如果要保留其特殊含义, 需要加反斜杠`\`进行转义, 如`[.]`匹配普通字符'.', `[\.]`则匹配任意字符.
